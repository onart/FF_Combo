# !부터 시작해서 아스키 부분 영역설정
AREA=((111.0, -9.0, 212.0, 754.0),(91.21428571428571, 460.0, 335.75, 760.0),(18.0, 6.0, 624.0, 734.0),(28.0, -104.0, 540.0, 832.0),(67.0, -18.0, 811.0, 722.0),(84.0, -18.0, 800.0, 754.0),(88.21428571428571, 460.0, 167.23076923076923, 760.0),(82.0, -85.0, 338.0, 823.0),(52.0, -85.0, 308.0, 823.0),(73.66666666666667, 163.0, 432.0833333333333, 575.0),(60.0, 120.0, 580.0, 624.0),(84.0, -141.0, 204.0, 101.0),(91.0, 351.0, 549.0, 404.0),(92.0, -16.0, 205.0, 102.0),(2.0, -72.0, 386.0, 816.0),(54.0, -14.0, 562.0, 754.0),(133.0, -1.0, 499.0, 754.0),(82.0, -3.0, 550.0, 752.0),(68.0, -18.0, 533.0, 753.0),(60.0, -1.0, 541.0, 751.0),(78.0, -16.0, 539.0, 736.0),(73.0, -18.0, 536.0, 754.0),(69.0, -18.0, 544.0, 736.0),(76.0, -18.0, 538.0, 754.0),(74.0, -20.0, 537.0, 753.0),(117.0, 108.0, 225.0, 626.0),(116.0, -30.0, 225.0, 627.0),(78.0, 6.0, 566.0, 729.0),(64.0, 247.0, 576.0, 497.0),(78.0, 6.0, 566.0, 729.0),(56.0, -18.0, 457.0, 754.0),(79.0, -68.0, 944.0, 798.0),(8.0, -1.0, 742.0, 754.0),(38.0, -1.0, 669.0, 736.0),(58.0, -18.0, 671.0, 754.0),(38.0, 1.0, 689.0, 737.0),(38.0, 1.0, 662.0, 737.0),(38.0, -1.0, 635.0, 737.0),(59.0, -18.0, 730.0, 754.0),(43.0, -1.0, 742.0, 737.0),(41.0, -1.0, 294.0, 737.0),(19.0, -16.0, 399.0, 737.0),(42.0, -1.0, 752.0, 737.0),(38.0, -1.0, 641.0, 737.0),(41.0, -8.0, 875.0, 737.0),(38.0, -4.0, 757.0, 737.0),(57.0, -17.0, 702.0, 754.0),(38.0, -1.0, 627.0, 736.0),(54.0, -115.0, 736.0, 754.0),(38.0, -1.0, 684.0, 736.0),(44.0, -16.0, 589.0, 754.0),(22.0, -3.0, 749.0, 737.0),(38.0, -18.0, 771.0, 736.0),(30.0, -18.0, 736.0, 736.0),(16.0, -18.0, 956.0, 736.0),(30.0, -1.0, 682.0, 736.0),(33.0, -1.0, 674.0, 736.0),(35.0, -1.0, 609.0, 736.0),(205.0, -81.0, 418.0, 815.0),(36.0, -18.0, 980.0, 736.0),(146.0, -81.0, 359.0, 815.0),(27.0, 511.0, 483.0, 767.0),(0.0, -89.0, 512.0, -37.0),(109.67857142857143, 565.0, 339.0, 738.3703703703703),(64.0, -18.0, 521.0, 496.0),(37.0, -18.0, 528.0, 745.0),(64.0, -18.0, 494.0, 496.0),(64.0, -18.0, 556.0, 744.0),(64.0, -18.0, 524.0, 496.0),(47.0, -1.0, 365.0, 749.0),(45.0, -145.0, 552.0, 501.0),(39.0, -1.0, 558.0, 745.0),(47.0, -1.0, 249.0, 754.0),(0.0, -145.0, 210.0, 754.0),(34.0, -1.0, 565.0, 745.0),(45.0, -1.0, 251.0, 745.0),(40.0, -1.0, 849.0, 496.0),(35.0, -1.0, 550.0, 496.0),(61.0, -18.0, 528.0, 496.0),(39.0, -145.0, 530.0, 496.0),(64.0, -145.0, 555.0, 496.0),(33.0, -1.0, 426.0, 506.0),(67.0, -20.0, 475.0, 495.0),(34.0, -17.03448275862069, 344.0, 653.0),(41.0, -18.0, 555.0, 496.0),(31.0, -18.0, 558.0, 489.0),(39.0, -18.0, 807.0, 489.0),(37.0, -1.0, 595.0, 489.0),(40.0, -141.0, 577.0, 489.0),(46.0, -1.0, 475.0, 489.0),(113.0, -78.0, 448.0, 815.0),(224.0, -84.0, 279.0, 818.0),(83.0, -76.0, 418.0, 817.0),(82.0, 293.0, 684.0, 441.0),)
WIDA=(320,427,638,574,876,853,256,386,386,512,853,299,640,299,384,610,610,610,610,610,610,610,610,610,610,341,341,640,640,640,512,1024,754,725,725,752,688,660,758,784,334,436,764,654,916,794,754,670,756,688,640,768,794,768,968,704,702,640,512,1024,512,512,512,597,555,590,555,590,590,374,597,588,296,299,586,299,866,584,597,588,588,450,532,368,580,586,828,620,602,512,512,597,512,768)
WIDH=(768,512,768,512,769,512,683,512,683,512,683,512,683,512,725,555,725,555,683,555,683,555,683,555,683,555,683,555,725,555,725,555,725,555,725,555,768,555,768,555,384,299,384,299,384,299,384,299,384,299,768)

import fontforge, psMat
font=fontforge.fonts()[0]

def transC(rect1, rect2):
    # rect1을 rect2에 맞게 조정. rect1의 비율을 유지하지 않고 rect2의 비율을 따라감
    dst=(rect2[2]-rect2[0],rect2[3]-rect2[1])
    mat=psMat.scale(dst[0]/(rect1[2]-rect1[0]),dst[1]/(rect1[3]-rect1[1]))
    tr2=psMat.translate(rect2[0]-rect1[0],rect2[1]-rect1[1])
    mat=psMat.compose(mat,tr2)
    return mat

for i in range(33,127):
    font[i].transform(transC(font[i].boundingBox(),AREA[i-33]))
    font[i].width=WIDA[i-33]

for i in range(256,307):
    font[i].width=WIDH[i-256]   # 고정값으로 할 수도 있음